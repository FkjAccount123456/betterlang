func main(name) {
    Print("Hello, ", name, "!\n");
}

func fac(num) {
    # Print("fac", num, "\n");
    if num == 0 {
        return 1;
    }
    return num * fac(num - 1);
}

func test_list() {
    var list = [1, 2, 2, 4, 5];
    Print(list, " ", list[2], "\n");
    list[2] = 3;
    Print(list, " ", list[2], "\n");
}

func test_list2() {
    var list = [1, 2, [2, 4, 5]];
    # Print("Rc: ", GetRc(list[2]), "\n");
    # Print("Rc: ", GetRc(list[2]), "\n");
    Print(list, " ", list[2][0], "\n");
    Print(list[2], "\n");
    list[2][0] = 3;
    Print(list[2], "\n");
    Print(list, " ", list[2][0], "\n");
    # Print("Rc: ", GetRc(list[2]), "\n");
    Print(list, " len: ", Len(list), "\n");
}

func prime(num) {
    if num < 2 { return 0; }
    var i = 2;
    while i < num {
        # Print(num, " ", i, "\n");
        if num % i == 0 {
            # Print(i, "\n");
            return 0;
        }
        i = i + 1;
    }
    return 1;
}

func test_loop() {
    var i = 0;
    while 1 {
        i = i + 1;
        if i > 10 { break; }
        if i == 5 { continue; }
        Print(i, "\n");
    }
}

func Counter(start) {
    func next() {
        start = start + 1;
        return start;
    }
    return next;
}

func test_counter() {
    var counter = Counter(0);
    var i = counter();
    while i <= 10 {
        Print(i, "\n");
        i = counter();
    }
}

func test_Append() {
    var list = [];
    while Len(list) <= 10 {
        Print(list, "\n");
        Append(list, Len(list) + 1);
    }
}

main("world");
main("betterlang");
Print(fac(10), "\n");
Print(1 + 2 * 3, "\n");
Print((1 + 2) * 3, "\n");
test_list();
test_list2();
Print(prime(1), "\n");
Print(prime(17), "\n");
Print(prime(10), "\n");
test_loop();
test_counter();
test_Append();
